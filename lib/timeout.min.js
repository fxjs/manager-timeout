(function(a,b){'function'==typeof define&&define.amd?define(function(){return b(a)}):'undefined'!=typeof module&&module.exports?module.exports=b(a):a.Timeout=b(a)})('undefined'==typeof window?this:window,function(a){'use strict';function b(g,h){if(!(g instanceof h))throw new TypeError('Cannot call a class as a function')}var c='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&'function'==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?'symbol':typeof g},d=function(){function g(h,j){for(var m,l=0;l<j.length;l++)m=j[l],m.enumerable=m.enumerable||!1,m.configurable=!0,'value'in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}return function(h,j,l){return j&&g(h.prototype,j),l&&g(h,l),h}}(),e={};a._MEMTIMER=e;var f=function(){function g(h){b(this,g),this.timeObj={},this.namespace=h}return d(g,null,[{key:'getIns',value:function(j){return e.hasOwnProperty(j)?this.ins=e[j]:(e[j]=new g(j),this.ins=e[j]),this.ins}}]),d(g,[{key:'hasNameSpace',value:function(j){return e.hasOwnProperty(j)}},{key:'interval',value:function(j,l,m){var n=this,o=arguments,p=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return this.hasNameSpace(this.namespace)?('undefined'!=typeof this.timeObj[m]&&clearTimeout(this.timeObj[m]),this.timeObj[m]=setTimeout(function(){j(),'undefined'!=typeof n.timeObj[m]&&n.interval.apply(n,o)},l),p&&console.log('do::interval, k:'+m+', v:'+this.timeObj[m]),this.timeObj[m]):(console.warn('do::interval','no scope nameSpace'),!1)}},{key:'timeout',value:function(j,l,m){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return this.hasNameSpace(this.namespace)?('undefined'!=typeof this.timeObj[m]&&clearTimeout(this.timeObj[m]),this.timeObj[m]=setTimeout(j,l),n&&console.log('do::timeout, k:'+m+', v:'+this.timeObj[m]),this.timeObj[m]):(console.warn('do::interval','no scope nameSpace'),!1)}},{key:'clear',value:function(j){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.timeObj;if(!l.hasOwnProperty(j))return!1;var m=l[j];return clearTimeout(m),console.log('do::clear, \u8BA1\u65F6\u5668k:'+j+', \u8BA1\u65F6\u5668v: '+m),delete l[j]}},{key:'clearScopeAll',value:function(){var j=this,l=this.timeObj;if(!l)return!1;var m=Object.keys(l);return m.forEach(function(n){j.clear(n)}),console.log('do::clearScopeAll, namespace:'+this.namespace+', keys:'+m.length),delete e[this.namespace]}},{key:'clearAll',value:function(){for(var j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e,l=Object.keys(j),m=0;m<l.length;m++){var n=l[m],o=j[n];'object'===('undefined'==typeof o?'undefined':c(o))?this.clearAll(o):'number'==typeof o&&this.clear(n,j),delete j[n]}l.length&&!l.includes('timeObj')&&console.log('do::clearAll, keys:'+l)}}]),g}();return f});